<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JSON to Table</title>
<style>
  table {
    border-collapse: collapse;
    width: 100%;
  }
  th, td {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
  }
  th {
    background-color: #f2f2f2;
  }
</style>
</head>
<body>
<h2>Event Groups</h2>
<table>
  <thead>
    <tr>
      <th>Event Group ID</th>
      <th>Severity</th>
      <th>Threat Probability</th>
      <th>Destination Domain</th>
      <th>Reputation</th>
      <th>Affected Sessions</th>
      <th>Affected Sessions Percent</th>
      <th>First Seen Time</th>
      <th>Last Seen Time</th>
      <th>Suspicious Event Type</th>
    </tr>
  </thead>
  <tbody id="eventGroupsTable">
  </tbody>
</table>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    fetch('data.json')
      .then(response => response.json())
      .then(json => {
        var tableBody = document.getElementById("eventGroupsTable");

        json.eventGroups.forEach(function(eventGroup) {
          var row = document.createElement("tr");

          var eventGroupIdCell = document.createElement("td");
          eventGroupIdCell.textContent = eventGroup.eventGroupId;
          row.appendChild(eventGroupIdCell);

          var severityCell = document.createElement("td");
          severityCell.textContent = eventGroup.severity;
          row.appendChild(severityCell);

          var threatProbabilityCell = document.createElement("td");
          threatProbabilityCell.textContent = eventGroup.threatProbability;
          row.appendChild(threatProbabilityCell);

          var destinationDomainCell = document.createElement("td");
          destinationDomainCell.textContent = eventGroup.destinationDomain.domain;
          row.appendChild(destinationDomainCell);

          var reputationCell = document.createElement("td");
          reputationCell.textContent = eventGroup.destinationDomain.reputation;
          row.appendChild(reputationCell);

          var affectedSessionsCell = document.createElement("td");
          affectedSessionsCell.textContent = eventGroup.affectedSessions;
          row.appendChild(affectedSessionsCell);

          var affectedSessionsPercentCell = document.createElement("td");
          affectedSessionsPercentCell.textContent = eventGroup.affectedSessionsPercent + '%';
          row.appendChild(affectedSessionsPercentCell);

          var firstSeenTimeCell = document.createElement("td");
          firstSeenTimeCell.textContent = eventGroup.firstSeenTime;
          row.appendChild(firstSeenTimeCell);

          var lastSeenTimeCell = document.createElement("td");
          lastSeenTimeCell.textContent = eventGroup.lastSeenTime;
          row.appendChild(lastSeenTimeCell);

          var suspiciousEventTypeCell = document.createElement("td");
          suspiciousEventTypeCell.textContent = eventGroup.suspiciousEventType;
          row.appendChild(suspiciousEventTypeCell);

          tableBody.appendChild(row);
        });
      })
      .catch(error => console.error('Error fetching JSON:', error));
  });
</script>
</body>
</html>